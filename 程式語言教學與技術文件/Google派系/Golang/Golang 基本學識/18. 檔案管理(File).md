#程式語言教學與技術文件 #Google派系 #Golang #Golang基本學識
# 檔案管理(File)

Golang也有所謂的檔案管理，可以開啟、讀取、寫入檔案，不過需要引用這樣的東西：

```go
import(
	"os"
)
```

接下來針對要的檔案寫入路徑就可以開啟，但<font class="red-text">**預設是唯讀**</font>

```go
file, err := os.Open("test.txt")
```

如果你想要對其做讀寫動作，請使用這個函式，並加入寫入的功能

```go
file, err := os.OpenFile("test.txt",os_O_RDWR,os.ModeAppend.Perm())
//os_O_RDWR就是給予檔案讀寫的權限
//ModeAppend是單獨使用模式
```

最後記得用這個功能把檔案關起來，避免被占用，不過這個關閉不是立即關閉，是要在離開函式的時候才會被關閉。(這是defer的功能)

```go
defer file.Close()
```

 最後用完整的程式碼來給大家做參考吧

```go
func FilePractice() {
	//開啟檔案並給予讀寫權限
	file, err := os.OpenFile("test.txt", os.O_RDWR, os.ModeAppend.Perm())
	//檔案錯誤回傳
	if err != nil {
		return
	}
	//關閉檔案流避免佔用
	defer file.Close()
	stat, err := file.Stat()
	if err != nil {
		return
	}

	//讀取檔案內文
	bs := make([]byte, stat.Size())
	_, err = file.Read(bs)
	if err != nil {
		return
	}
	str := string(bs)
	fmt.Println(str)

	//寫入檔案
	n4, err := file.WriteString("Bocchi The Rock!")
	if err != nil {
		fmt.Println(n4)
		return
	}
}
```